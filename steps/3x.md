## Widget Structure

### Create folder structure

- root folder
  - index.html
  - WikiWidget
    - css
    - images
    - nls
    - templates
    - utils
  
## Widget Setup

### Widget Stylesheet

**WikiWidget.css**

``` html
<link rel="stylesheet" href="WikiWidget/css/WikiWidget.css">
```

### Social Media Icons

[Social Media Icons](http://www.socicon.com/chart.php)

```html
<link href="https://file.myfontastic.com/n6vo44Re5QaWo8oCKShBs7/icons.css" rel="stylesheet">
```

### Position widget CSS

```css
.esri-wikipedia {
  position: absolute;
  top: 92px;
  left: 15px;
  z-index: 2;
}
```

### Module package setup

```js
var dojoConfig = {
  // The locationPath logic below may look confusing but all its doing is 
  // enabling us to load the api from a CDN and load local modules from the correct location.
  packages: [{
    name: "widgets",
    location: packagePath + '/WikiWidget'
  }]
};
```

### Add HTML to place widget

```html
<div id="WikiWidget"></div>
```

### Require widget module

```js
"widgets/WikiWidget",
```

``` js
WikiWidget
```


### Initialize widget

```js
var wikiWidget = new WikiWidget({
  map: map
}, "WikiWidget");
wikiWidget.startup();
```


## Create Widget

Simple widget

```js
define([
  "dijit/_WidgetBase"
], function (
  _WidgetBase
) {

  return _WidgetBase.createSubclass({

    // widget magic here! °˖✧◝(⁰▿⁰)◜✧˖°
    
    constructor: function(){
      console.log("hello world!");
    }

  });

});
```

## Support file for Wikipedia

To simplify our demo we moved Wikipedia logic elsewhere. `wikiHelper` -> viewer discretion is advised

```js
"./support/wikiHelper",
```

## Add widget NLS and HTML

```js
"dojo/i18n!./nls/WikiWidget",

"dojo/text!./templates/WikiWidget.html"
```

```js
i18n,
templateString
```

## Add final widget dependencies

```js
  "dijit/_TemplatedMixin",
  "dijit/_WidgetBase",
  "dijit/a11yclick",

  "dojo/_base/array",
  "dojo/_base/lang",

  "dojo/dom-attr",
  "dojo/dom-class",
  "dojo/dom-construct",
  "dojo/dom-style",
  "dojo/on",
```

```js
_TemplatedMixin, _WidgetBase, a11yclick,
  array, lang,
  domAttr, domClass, domConstruct, domStyle, on,
```

## Widget extends templated mixin

```js
return _WidgetBase.createSubclass([_TemplatedMixin], {
```

## Add Template to widget

```js
templateString: templateString,
```

## Place HTML in template file

```html
<div>Hello UC!</div>
```

## Setup NLS file

```js
define({
  root: ({
  })
});
```

## Add CSS Object + Base class

```js
var CSS = {
// button
base: "esri-wikipedia",
active: "esri-wikipedia--active",
icon: "esri-icon socicon-wikipedia",

// panel
panel: "esri-wikipedia__panel",
panelOpen: "esri-wikipedia__panel--open",
loading: "esri-wikipedia__panel--loading",
title: "esri-wikipedia__title",
refresh: "esri-wikipedia__refresh",
refreshIcon: "esri-icon-refresh",
close: "esri-wikipedia__close esri-icon-close",
scroller: "esri-wikipedia__list-scroller",

// list
list: "esri-wikipedia__list",
message: "esri-wikipedia__message",
item: "esri-wikipedia__result",
image: "esri-wikipedia__result-image",
noImage: "esri-wikipedia__result-image--none",
header: "esri-wikipedia__header",
footer: "esri-wikipedia__footer"
};
```

```js
baseClass: CSS.base,
```

## Declared class for 3x

```js
declaredClass: "esri.dijit.WikiWidget",
```

## Setup lifecycle + sections

```js
//--------------------------------------------------------------------------
//
//  Lifecycle
//
//--------------------------------------------------------------------------

constructor: function () {
},

postCreate: function () {
},

//--------------------------------------------------------------------------
//
//  Variables
//
//--------------------------------------------------------------------------

//--------------------------------------------------------------------------
//
//  Properties
//
//--------------------------------------------------------------------------

//--------------------------------------------------------------------------
//
//  Private Methods
//
//--------------------------------------------------------------------------
```

## Add widget properties

```js

//----------------------------------
//  active
//----------------------------------

/**
 * @readonly
 */
active: null,

_getActiveAttr: function () {
  return this._active;
},

//----------------------------------
//  map
//----------------------------------

map: null,

//----------------------------------
//  maxResults
//----------------------------------

maxResults: MAX_RESULTS,

_setMaxResultsAttr: function (value) {
  value = value > MAX_RESULTS ? MAX_RESULTS :
          value < MIN_RESULTS ? MIN_RESULTS :
          value;

  this._set("maxResults", value);
},

```

## Add Constants

```js
var MIN_RESULTS = 1;
var MAX_RESULTS = 10;
```

## Add Variables

```js
_css: CSS,

_i18n: i18n,

_active: false,

_resultGraphics: null,
```
